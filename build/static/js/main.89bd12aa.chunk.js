(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{149:function(e,t,n){},185:function(e,t,n){e.exports=n(401)},399:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),l=n(8),c=n.n(l),r=n(13),i=n(17),u=n(163),s=n.n(u),d=n(3),m=n.n(d),f=n(159),b=n.n(f);var E=function(e){var t=m()("btn","btn-lg");return o.a.createElement("header",null,e.loggedIn&&o.a.createElement("a",{className:t,href:"/auth/logout",role:"button",title:"Logout",onClick:function(){e.changeStatus()}}," ",o.a.createElement(b.a,{style:{fill:"white"}})),o.a.createElement(s.a,null),e.loggedIn?o.a.createElement("h1",null," Keeper - Welcome ",e.userName):o.a.createElement("h1",null," Keeper "))};var h=function(){var e=(new Date).getFullYear();return o.a.createElement("footer",{className:"Footer"},o.a.createElement("p",null,"Copyright \u24d2 ",e))},g=n(39),p=n(176),C=n(45),v=n(167),j=n.n(v),O=n(32),k=n.n(O),S=n(438),w=n(437),N=n(440),x=n(436),y=n(434),D=n(435),U=n(433),I=n(441),B=n(166),A=n.n(B),T=n(99),F=n(164),J=n.n(F),K=n(165),L=n.n(K);var M=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),l=n[0],c=n[1],r=Object(a.useState)({h:250,s:0,l:.2,a:1}),u=Object(i.a)(r,2),s=u[0],d=u[1],m=Object(a.useState)(""),f=Object(i.a)(m,2),b=f[0],E=f[1],h={position:"absolute",zIndex:"2"},g={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"};function p(e){E(e.currentTarget.getAttribute("name")),c((function(e){return!e}))}function C(){c(!1),e.DBUpdate()}function v(t){d(t.hsl),console.log(t),e.onColorChange(b,t.hex)}return o.a.createElement("div",null,o.a.createElement("button",{name:"bgColor",onClick:p,title:"Set note background"},o.a.createElement(J.a,null)),l?o.a.createElement("div",{style:h},o.a.createElement("div",{style:g,onClick:C}),o.a.createElement(T.ChromePicker,{color:s,onChange:v,disableAlpha:!0})):null,o.a.createElement("button",{name:"fontColor",onClick:p,title:"Set note font color"},o.a.createElement(L.a,null)),l?o.a.createElement("div",{style:h},o.a.createElement("div",{style:g,onClick:C}),o.a.createElement(T.ChromePicker,{color:s,onChange:v,disableAlpha:!0})):null)},P=o.a.forwardRef((function(e,t){return o.a.createElement(I.a,Object.assign({direction:"up",ref:t},e))}));var _=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),l=n[0],c=n[1];return o.a.createElement("div",null,o.a.createElement("button",{className:"editIcon",onClick:function(){c(!0)}},o.a.createElement(A.a,null)),o.a.createElement(N.a,{open:l,TransitionComponent:P,keepMounted:!0,onClose:function(){c(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:"Dialogue"},o.a.createElement(M,{onColorChange:e.onColorChange,DBUpdate:e.DBUpdate}),o.a.createElement(U.a,{id:"alert-dialog-slide-title"},e.title),o.a.createElement(y.a,null,o.a.createElement(D.a,{id:"alert-dialog-slide-description"},o.a.createElement("textarea",{name:"content",onChange:function(t){var n=t.target,a=n.name,o=n.value;e.onUpdate(a,o)},defaultValue:e.content,placeholder:"Take a note...",rows:"5",cols:"50"}))),o.a.createElement(x.a,null,o.a.createElement(w.a,{onClick:function(){c(!1),e.DBUpdate()},color:"primary",autoFocus:!0},"Submit"))))};var z=function(e){var t=Object(a.useState)({ind:e.ind,title:e.title,content:e.content,bgColor:e.bgColor,fontColor:e.fontColor}),n=Object(i.a)(t,2),l=n[0],c=n[1],r=Object(a.useState)(!1),u=Object(i.a)(r,2),s=u[0],d=u[1],m=Object(a.useMemo)((function(){return{background:l.bgColor,color:l.fontColor}}),[l]);function f(e,t){l[e]!==t&&(c((function(n){return Object(g.a)(Object(g.a)({},n),{},Object(C.a)({},e,t))})),d(!0))}return o.a.createElement(S.a,{in:!0},o.a.createElement("div",{style:m,className:"note"},o.a.createElement(_,{title:e.title,content:e.content,onUpdate:f,ind:e.ind,bgColor:l.bgColor,fontColor:l.fontColor,onColorChange:f,DBUpdate:function(){s&&(console.log("updating"),e.onUpdate(l),d(!1))}}),o.a.createElement("h1",null,e.title),o.a.createElement("p",null,e.content),o.a.createElement("button",{className:"deleteIcon",onClick:function(){var t=e.ind;k.a.delete("/delete",{data:{index:t}}).then((function(){return console.log("Data to be deleted is shared")})).catch((function(e){console.error(e)})),e.onDelete(e.id,e.ind)}},o.a.createElement(j.a,null))))},H=n(439),R=n(169),V=n.n(R),W=n(168),Y=n.n(W);var q=function(e){k.a.defaults.withCredentials=!0;var t=Object(a.useState)({ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}),n=Object(i.a)(t,2),l=n[0],c=n[1];function r(e){var t=e.target,n=t.name,a=t.value;c((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(C.a)({},n,a))}))}var u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],m=s[1];return o.a.createElement("div",null,o.a.createElement("form",{className:"create-note"},o.a.createElement("input",{name:"title",onChange:r,value:l.title,placeholder:"Title",hidden:!d&&!0}),o.a.createElement("textarea",{name:"content",onChange:r,onClick:function(){m(!0)},value:l.content,placeholder:"Take a note...",rows:d?"3":"1"}),o.a.createElement(S.a,{in:d&&!0},o.a.createElement(H.a,{onClick:function(t){l.ind=Y.a.generate(),e.onAdd(l),c((function(e){return console.log("note:",e),k.a.post("/create",e).then((function(){return console.log("Data Shared")})).catch((function(e){console.error(e)})),{ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}})),t.preventDefault()}},o.a.createElement(V.a,null)))))},G=(n(149),n(175));n(399);var Q=function(e){k.a.defaults.withCredentials=!0;var t=Object(a.useState)(e.notes),n=Object(i.a)(t,2),l=n[0],c=n[1];function r(e,t){console.log("note to be deleted: "+t),c((function(e){return e.filter((function(e,n){return e.ind!==t}))}))}function u(e){console.log(e),c(l.map((function(t){return t.ind===e.ind?Object(g.a)({},e):t}))),k.a.patch("/update",e).then((function(){return console.log("Data to be updated is shared")})).catch((function(e){console.error(e)}))}var s=m()("scrollbar","my-5","mx-auto");return o.a.createElement("div",null,o.a.createElement(q,{onAdd:function(e){c((function(t){return[].concat(Object(p.a)(t),[e])}))}}),o.a.createElement(G.c,null,o.a.createElement("div",{className:s,style:{position:"absolute",left:"5%",width:"90%",maxHeight:"500px"}},l.map((function(e){return o.a.createElement(z,{key:e.ind,ind:e.ind,title:e.title,content:e.content,onDelete:r,onUpdate:u,bgColor:e.bgColor,fontColor:e.fontColor})})))))},X=n(20),Z=Object(X.a)();var $=function(e){var t=e.match;"#_=_"===window.location.hash&&(Z.replaceState?Z.replaceState(null,null,window.location.href.split("#")[0]):window.location.hash="");var n=Object(a.useState)([]),l=Object(i.a)(n,2),c=l[0],r=l[1],u=Object(a.useState)(!1),s=Object(i.a)(u,2),d=s[0],m=s[1],f=t.params,b=(f=void 0===f?{}:f).userName;return Object(a.useEffect)((function(){console.log("effect call"),k.a.get("/auth/login/success",{withCredentials:!0}).then((function(e){console.log(e),e.data.notes.length>0?r(e.data.notes):r([]),m(e.data.success)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",null,o.a.createElement(E,{loggedIn:d,userName:b,changeStatus:function(){m(!1)}}),d&&o.a.createElement(Q,{notes:c}),o.a.createElement(h,null))};var ee=function(){var e=m()("container","mt-5"),t=m()("card","social-block"),n=m()("btn","btn-block","btn-social","btn-facebook"),a=m()("fab","fa-facebook");return o.a.createElement("div",null,o.a.createElement(E,null),o.a.createElement("div",{className:e},o.a.createElement("h1",null," Login "),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"card-body"},o.a.createElement("a",{className:n,href:"/auth/facebook",role:"button"},o.a.createElement("i",{className:a}," "),"Sign In with Facebook")))))))};var te=function(){return o.a.createElement(r.b,{history:Z},o.a.createElement(r.a,{path:"/",exact:!0,component:ee}),o.a.createElement(r.a,{path:"/home/:userName",exact:!0,component:$}))};n(400);c.a.render(o.a.createElement(te,null),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.89bd12aa.chunk.js.map