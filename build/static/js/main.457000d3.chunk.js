(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{160:function(e,t,a){},205:function(e,t,a){e.exports=a(423)},420:function(e,t,a){},423:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),o=a.n(r),c=a(34),s=a(15),i=a(7),m=a(107),u=a.n(m),d=a(3),f=a.n(d),E=a(174),b=a.n(E),p=Object(n.createContext)(),g=function(e){var t=JSON.parse(sessionStorage.getItem("login")),a=Object(n.useState)(t||{username:"",status:!1}),r=Object(i.a)(a,2),o=r[0],c=r[1];return Object(n.useEffect)((function(){sessionStorage.setItem("login",JSON.stringify(o))}),[o]),l.a.createElement(p.Provider,{value:[o,c]},e.children)},h=a(173),v=a.n(h);var O=function(){var e=Object(n.useContext)(p),t=Object(i.a)(e,2),a=t[0],r=t[1],o=f()("btn","btn-lg"),c=(f()("navbar","navbar-expand-lg","navbar-dark"),"/home/"+a.username);return l.a.createElement("header",null,a.status?l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",{style:{paddingRight:"1rem",paddingTop:"0.5rem"}},l.a.createElement(u.a,{style:{fill:"white",size:"12rem"}})),l.a.createElement("li",null,l.a.createElement("h1",null," Keeper - Welcome ",a.username)),l.a.createElement("li",{style:{paddingLeft:"10rem"}},l.a.createElement("a",{className:o,role:"button",title:"Home",href:c}," ",l.a.createElement(v.a,{style:{fill:"white"}})," ")),l.a.createElement("li",null,l.a.createElement("a",{className:o,href:"/auth/logout",role:"button",title:"Logout",onClick:function(){r({username:"",status:!1})}}," ",l.a.createElement(b.a,{style:{fill:"white"}}))))):l.a.createElement("div",null,l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(u.a,null)),l.a.createElement("li",null,l.a.createElement("h1",null," Keeper - Welcome")))))};var j=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",{className:"Footer"},l.a.createElement("p",null,"Copyright \u24d2 ",e))},N=a(16),C=a(19),y=a(48),w=a(186),x=a.n(w),S=a(185),k=a.n(S),D=a(22),I=a.n(D),P=a(464),A=a(463),q=a(467),B=a(462),T=a(460),U=a(461),z=a(459),J=a(468),L=a(177),M=a.n(L),F=a(108),R=a(175),Z=a.n(R),H=a(176),K=a.n(H);var W=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)({h:250,s:0,l:.2,a:1}),s=Object(i.a)(c,2),m=s[0],u=s[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),E=f[0],b=f[1],p={position:"absolute",zIndex:"2"},g={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"};function h(e){b(e.currentTarget.getAttribute("name")),o((function(e){return!e}))}function v(){o(!1),e.DBUpdate()}function O(t){u(t.hsl),e.onColorChange(E,t.hex)}return l.a.createElement("div",null,l.a.createElement("button",{name:"bgColor",onClick:h,title:"Set note background"},l.a.createElement(Z.a,null)," "),r?l.a.createElement("div",{style:p},l.a.createElement("div",{style:g,onClick:v}),l.a.createElement(F.ChromePicker,{color:m,onChange:O,disableAlpha:!0})):null,l.a.createElement("button",{name:"fontColor",onClick:h,title:"Set note font color"},l.a.createElement(K.a,null)),r?l.a.createElement("div",{style:p},l.a.createElement("div",{style:g,onClick:v}),l.a.createElement(F.ChromePicker,{color:m,onChange:O,disableAlpha:!0})):null)},_=l.a.forwardRef((function(e,t){return l.a.createElement(J.a,Object.assign({direction:"up",ref:t},e))}));var G=function(e){var t=Object(n.useState)(!1),a=Object(i.a)(t,2),r=a[0],o=a[1];return l.a.createElement("div",null,l.a.createElement("button",{className:"editIcon",onClick:function(){o(!0)}},l.a.createElement(M.a,null)),l.a.createElement(q.a,{open:r,TransitionComponent:_,keepMounted:!0,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:"Dialogue"},l.a.createElement(W,{onColorChange:e.onColorChange,DBUpdate:e.DBUpdate}),l.a.createElement(z.a,{id:"alert-dialog-slide-title"},e.note.title),l.a.createElement(T.a,null,l.a.createElement(U.a,{id:"alert-dialog-slide-description"},l.a.createElement("textarea",{name:"content",onChange:function(t){var a=t.target,n=a.name,l=a.value;e.onUpdate(n,l)},defaultValue:e.note.content,placeholder:"Take a note...",rows:"5",cols:"50"}))),l.a.createElement(B.a,null,l.a.createElement(A.a,{onClick:function(){o(!1),e.DBUpdate()},color:"primary",autoFocus:!0},"Submit"))))},V=Object(n.createContext)(),Y=function(e){var t=JSON.parse(sessionStorage.getItem("notes")),a=Object(n.useState)(t||[]),r=Object(i.a)(a,2),o=r[0],c=r[1];Object(n.useEffect)((function(){sessionStorage.setItem("notes",JSON.stringify(o))}),[o]);var s=Object(n.useMemo)((function(){return{notes:o,setNotes:c}}));return l.a.createElement(V.Provider,{value:s},e.children)},$=a(466),Q=a(184),X=a.n(Q);var ee=function(e){var t=Object(n.useContext)(V),a=t.notes,r=t.setNotes,o=Object(n.useContext)(p),c=Object(i.a)(o,2),m=c[0],u=(c[1],Object(s.e)()),d=Object(n.useState)(e.noteItem),f=Object(i.a)(d,2),E=f[0],b=f[1],g=Object(n.useState)(!1),h=Object(i.a)(g,2),v=h[0],O=h[1],j=Object(n.useMemo)((function(){return{background:E.bgColor,color:E.fontColor}}),[E]);function N(e,t){E[e]!==t&&(b((function(a){return Object(y.a)(Object(y.a)({},a),{},Object(C.a)({},e,t))})),O(!0))}return m.username,l.a.createElement(P.a,{in:!0},l.a.createElement("div",{style:j,className:"note"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-10",style:{marginLeft:"-1rem"}},l.a.createElement("h1",null,E.title)),l.a.createElement("div",{className:"col-sm-2",style:{top:"-0.5rem",right:"-1.5rem"}},l.a.createElement($.a,{drop:"left"},l.a.createElement($.a.Toggle,{style:{mixBlendMode:"difference"},bsPrefix:"custom-toggle",variant:"success",id:"dropdown-basic",size:"sm"},l.a.createElement(X.a,null)),l.a.createElement($.a.Menu,{style:{background:"rgba(22, 49, 54, 0.5)"}},l.a.createElement($.a.Item,{style:{background:"transparent"}},l.a.createElement("button",{className:"zoomIcon",onClick:function(){u.push("/notes/".concat(E.title))}},l.a.createElement(k.a,null)),l.a.createElement("button",{className:"deleteIcon",onClick:function(){I.a.delete("/delete",{data:{index:E.ind}}).then((function(){return console.log("Data to be deleted is shared")})).catch((function(e){console.error(e)})),r((function(e){return e.filter((function(e){return e.ind!==E.ind}))}))}},l.a.createElement(x.a,null)),l.a.createElement(G,{onUpdate:N,note:E,onColorChange:N,DBUpdate:function(){v&&(r(a.map((function(e){return e.ind===E.ind?Object(y.a)({},E):e}))),I.a.patch("/update",E).then((function(){return console.log("Data to be updated is shared")})).catch((function(e){console.error(e)})),O(!1))}})," "))))),l.a.createElement("div",{className:"row"},l.a.createElement("p",null,E.content)))))},te=a(465),ae=a(188),ne=a.n(ae),le=a(187),re=a.n(le);var oe=function(e){I.a.defaults.withCredentials=!0;var t=Object(n.useState)({ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}),a=Object(i.a)(t,2),r=a[0],o=a[1];function c(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(y.a)(Object(y.a)({},e),{},Object(C.a)({},a,n))}))}var s=Object(n.useState)(!1),m=Object(i.a)(s,2),u=m[0],d=m[1];return l.a.createElement("div",null,l.a.createElement("form",{className:"create-note"},l.a.createElement("input",{name:"title",onChange:c,value:r.title,placeholder:"Title",hidden:!u&&!0,required:!0}),l.a.createElement("textarea",{name:"content",onChange:c,onClick:function(){d(!0)},value:r.content,placeholder:"Take a note...",rows:u?"3":"1",required:!0}),l.a.createElement(P.a,{in:u&&!0},l.a.createElement(te.a,{onClick:function(t){""!==r.title&&(r.ind=re.a.generate(),e.onAdd(r),o((function(e){return I.a.post("/create",e).then((function(){return console.log("Data Shared")})).catch((function(e){console.error(e)})),{ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}}))),t.preventDefault()}},l.a.createElement(ne.a,null)))))},ce=(a(160),a(195));a(420);var se=function(e){var t=Object(s.e)();I.a.defaults.withCredentials=!0;var a=Object(n.useContext)(V),r=a.notes,o=a.setNotes;function c(e){t.push("/note")}console.log("notes");var i=f()("scrollbar","my-5","mx-auto");return l.a.createElement("div",null,l.a.createElement(oe,{onAdd:function(e){o((function(t){return[].concat(Object(N.a)(t),[e])}))}}),l.a.createElement(ce.c,null,l.a.createElement("div",{className:i,style:{position:"absolute",left:"5%",width:"90%",maxHeight:"500px"}},r.map((function(e){return l.a.createElement(ee,{key:e.ind,noteItem:e,handleZoom:c})})))))},ie=a(24),me=Object(ie.a)();var ue=function(e){var t=e.match;"#_=_"===window.location.hash&&(me.replaceState?me.replaceState(null,null,window.location.href.split("#")[0]):window.location.hash="");var a=Object(n.useContext)(V),r=(a.notes,a.setNotes),o=Object(n.useContext)(p),c=Object(i.a)(o,2),s=c[0],m=c[1];console.log("home page");var u=t.params,d=(u=void 0===u?{}:u).userName;return Object(n.useEffect)((function(){I.a.get("/auth/login/success",{withCredentials:!0}).then((function(e){e.data.notes.length>0?r(e.data.notes):r([]),m({username:d,status:e.data.success})})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(O,null),s&&l.a.createElement(se,null),l.a.createElement(j,null))},de=a(88);var fe=function(){var e=Object(de.a)(),t=e.register,a=e.watch,r=e.errors,o=e.handleSubmit,c=Object(s.e)(),m=Object(n.useState)(!1),u=Object(i.a)(m,2),d=u[0],f=u[1];return console.log("register"),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:o((function(e,t){I.a.post("/auth/register",e).then((function(t){t.data.status?(console.log("successful signup"),c.push("/home/".concat(e.firstname).concat(e.lastname))):f(!0)})).catch((function(e){console.error(e)})),t.preventDefault(),t.target.reset()}))},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",name:"firstname",ref:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",name:"lastname",ref:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:"username",ref:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",ref:t({pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/}),required:!0}),r.password&&l.a.createElement("p",null,"Minimum eight characters, at least one letter and one number")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",name:"cnfPassword",ref:t({validate:function(e){return e===a("password")}}),placeholder:"Confirm Password",required:!0}),r.cnfPassword&&l.a.createElement("p",null,"Passwords don't match")),l.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Register"),d&&l.a.createElement("p",null," Sorry, email id already exists!")))};var Ee=function(){var e=Object(de.a)(),t=e.register,a=(e.watch,e.errors,e.handleSubmit),r=Object(s.e)(),o=Object(n.useState)(!1),c=Object(i.a)(o,2),m=c[0],u=c[1];return console.log("login tab"),l.a.createElement("div",null,l.a.createElement("form",{onSubmit:a((function(e,t){I.a.post("/auth/login",e).then((function(e){e.data.authenticate?r.push("/home/".concat(e.data.displayName)):u(!0)})).catch((function(e){console.error(e)})),t.preventDefault(),t.target.reset()}))},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:"username",ref:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",ref:t,required:!0})),l.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Login"),m&&l.a.createElement("p",null,"Failed to login, please try again")))};var be=function(){var e=f()("container","mt-5"),t=f()("card","social-block"),a=f()("btn","btn-block","btn-social","btn-google"),n=(f()("fab","fa-facebook"),f()("fab","fa-google"));return console.log("sign up"),l.a.createElement("div",null,l.a.createElement(O,null),l.a.createElement("div",{className:e},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h3",{className:"card-title"},"Register"),l.a.createElement(fe,null)))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:t},l.a.createElement("div",{className:"card-body"},l.a.createElement("h3",{className:"card-title"},"Login"),l.a.createElement("a",{className:a,href:"/auth/google",role:"button"},l.a.createElement("i",{className:n}," "),"Sign In with Google")),l.a.createElement("p",{style:{textAlign:"center"}},"OR"),l.a.createElement("div",{className:"card-body"},l.a.createElement(Ee,null)))))))};var pe=function(e){var t=e.match,a=Object(n.useContext)(V),r=a.notes,o=(a.setNotes,t.params),c=(o=void 0===o?{}:o).title;return console.log("notes",r),f()("jumbotron","jumbotron-fluid"),l.a.createElement("div",null,l.a.createElement(O,null),r.filter((function(e){return e.title===c})).map((function(e){return l.a.createElement("div",{key:e.ind,className:"container",style:{background:e.bgColor,color:e.fontColor}},l.a.createElement("h1",null,e.title),l.a.createElement("p",null,e.content))})))};var ge=function(){return l.a.createElement(c.a,null,l.a.createElement(s.a,{path:"/",exact:!0,component:be}),l.a.createElement(s.a,{path:"/home/:userName",exact:!0,component:ue}),l.a.createElement(s.a,{path:"/notes/:title",exact:!0,component:pe}))};a(422);o.a.render(l.a.createElement(g,null,l.a.createElement(Y,null,l.a.createElement(ge,null))),document.getElementById("root"))}},[[205,1,2]]]);
//# sourceMappingURL=main.457000d3.chunk.js.map