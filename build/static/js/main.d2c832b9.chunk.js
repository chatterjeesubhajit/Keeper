(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{152:function(e,t,a){},187:function(e,t,a){e.exports=a(404)},401:function(e,t,a){},404:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),r=a(9),o=a.n(r),c=a(40),i=a(14),s=a(7),u=a(166),m=a.n(u),d=a(3),f=a.n(d),p=a(162),E=a.n(p);var b=function(e){var t=f()("btn","btn-lg");return l.a.createElement("header",null,e.loggedIn&&l.a.createElement("a",{className:t,href:"/auth/logout",role:"button",title:"Logout",onClick:function(){e.changeStatus()}}," ",l.a.createElement(E.a,{style:{fill:"white"}})),l.a.createElement(m.a,null),e.loggedIn?l.a.createElement("h1",null," Keeper - Welcome ",e.userName):l.a.createElement("h1",null," Keeper "))};var h=function(){var e=(new Date).getFullYear();return l.a.createElement("footer",{className:"Footer"},l.a.createElement("p",null,"Copyright \u24d2 ",e))},g=a(43),v=a(15),C=a(19),O=a(170),j=a.n(O),N=a(22),w=a.n(N),y=a(442),S=a(441),k=a(444),x=a(440),D=a(438),U=a(439),A=a(437),I=a(445),P=a(169),q=a.n(P),B=a(102),F=a(167),T=a.n(F),L=a(168),R=a.n(L);var z=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)({h:250,s:0,l:.2,a:1}),i=Object(s.a)(c,2),u=i[0],m=i[1],d=Object(n.useState)(""),f=Object(s.a)(d,2),p=f[0],E=f[1],b={position:"absolute",zIndex:"2"},h={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"};function g(e){E(e.currentTarget.getAttribute("name")),o((function(e){return!e}))}function v(){o(!1),e.DBUpdate()}function C(t){m(t.hsl),e.onColorChange(p,t.hex)}return l.a.createElement("div",null,l.a.createElement("button",{name:"bgColor",onClick:g,title:"Set note background"},l.a.createElement(T.a,null)," "),r?l.a.createElement("div",{style:b},l.a.createElement("div",{style:h,onClick:v}),l.a.createElement(B.ChromePicker,{color:u,onChange:C,disableAlpha:!0})):null,l.a.createElement("button",{name:"fontColor",onClick:g,title:"Set note font color"},l.a.createElement(R.a,null)),r?l.a.createElement("div",{style:b},l.a.createElement("div",{style:h,onClick:v}),l.a.createElement(B.ChromePicker,{color:u,onChange:C,disableAlpha:!0})):null)},M=l.a.forwardRef((function(e,t){return l.a.createElement(I.a,Object.assign({direction:"up",ref:t},e))}));var J=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),r=a[0],o=a[1];return l.a.createElement("div",null,l.a.createElement("button",{className:"editIcon",onClick:function(){o(!0)}},l.a.createElement(q.a,null)),l.a.createElement(k.a,{open:r,TransitionComponent:M,keepMounted:!0,onClose:function(){o(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:"Dialogue"},l.a.createElement(z,{onColorChange:e.onColorChange,DBUpdate:e.DBUpdate}),l.a.createElement(A.a,{id:"alert-dialog-slide-title"},e.title),l.a.createElement(D.a,null,l.a.createElement(U.a,{id:"alert-dialog-slide-description"},l.a.createElement("textarea",{name:"content",onChange:function(t){var a=t.target,n=a.name,l=a.value;e.onUpdate(n,l)},defaultValue:e.content,placeholder:"Take a note...",rows:"5",cols:"50"}))),l.a.createElement(x.a,null,l.a.createElement(S.a,{onClick:function(){o(!1),e.DBUpdate()},color:"primary",autoFocus:!0},"Submit"))))};var K=function(e){var t=Object(n.useState)({ind:e.ind,title:e.title,content:e.content,bgColor:e.bgColor,fontColor:e.fontColor}),a=Object(s.a)(t,2),r=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(s.a)(c,2),u=i[0],m=i[1],d=Object(n.useMemo)((function(){return{background:r.bgColor,color:r.fontColor}}),[r]);function f(e,t){r[e]!==t&&(o((function(a){return Object(g.a)(Object(g.a)({},a),{},Object(C.a)({},e,t))})),m(!0))}return l.a.createElement(y.a,{in:!0},l.a.createElement("div",{style:d,className:"note"},l.a.createElement(J,{title:e.title,content:e.content,onUpdate:f,ind:e.ind,bgColor:r.bgColor,fontColor:r.fontColor,onColorChange:f,DBUpdate:function(){u&&(console.log("updating"),e.onUpdate(r),m(!1))}}),l.a.createElement("h1",null,e.title),l.a.createElement("p",null,e.content),l.a.createElement("button",{className:"deleteIcon",onClick:function(){var t=e.ind;w.a.delete("/delete",{data:{index:t}}).then((function(){return console.log("Data to be deleted is shared")})).catch((function(e){console.error(e)})),e.onDelete(e.id,e.ind)}},l.a.createElement(j.a,null))))},Z=a(443),_=a(172),G=a.n(_),H=a(171),V=a.n(H);var W=function(e){w.a.defaults.withCredentials=!0;var t=Object(n.useState)({ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}),a=Object(s.a)(t,2),r=a[0],o=a[1];function c(e){var t=e.target,a=t.name,n=t.value;o((function(e){return Object(g.a)(Object(g.a)({},e),{},Object(C.a)({},a,n))}))}var i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],d=u[1];return l.a.createElement("div",null,l.a.createElement("form",{className:"create-note"},l.a.createElement("input",{name:"title",onChange:c,value:r.title,placeholder:"Title",hidden:!m&&!0,required:!0}),l.a.createElement("textarea",{name:"content",onChange:c,onClick:function(){d(!0)},value:r.content,placeholder:"Take a note...",rows:m?"3":"1",required:!0}),l.a.createElement(y.a,{in:m&&!0},l.a.createElement(Z.a,{onClick:function(t){r.ind=V.a.generate(),e.onAdd(r),o((function(e){return w.a.post("/create",e).then((function(){return console.log("Data Shared")})).catch((function(e){console.error(e)})),{ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}})),t.preventDefault()}},l.a.createElement(G.a,null)))))},Y=(a(152),a(178));a(401);var $=function(e){w.a.defaults.withCredentials=!0;var t=Object(n.useState)(e.notes),a=Object(s.a)(t,2),r=a[0],o=a[1];function c(e,t){o((function(e){return e.filter((function(e,a){return e.ind!==t}))}))}function i(e){o(r.map((function(t){return t.ind===e.ind?Object(g.a)({},e):t}))),w.a.patch("/update",e).then((function(){return console.log("Data to be updated is shared")})).catch((function(e){console.error(e)}))}var u=f()("scrollbar","my-5","mx-auto");return l.a.createElement("div",null,l.a.createElement(W,{onAdd:function(e){o((function(t){return[].concat(Object(v.a)(t),[e])}))}}),l.a.createElement(Y.c,null,l.a.createElement("div",{className:u,style:{position:"absolute",left:"5%",width:"90%",maxHeight:"500px"}},r.map((function(e){return l.a.createElement(K,{key:e.ind,ind:e.ind,title:e.title,content:e.content,onDelete:c,onUpdate:i,bgColor:e.bgColor,fontColor:e.fontColor})})))))},Q=a(24),X=Object(Q.a)();var ee=function(e){var t=e.match;"#_=_"===window.location.hash&&(X.replaceState?X.replaceState(null,null,window.location.href.split("#")[0]):window.location.hash="");var a=Object(n.useState)([]),r=Object(s.a)(a,2),o=r[0],c=r[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],d=u[1],f=t.params,p=(f=void 0===f?{}:f).userName;return Object(n.useEffect)((function(){w.a.get("/auth/login/success",{withCredentials:!0}).then((function(e){e.data.notes.length>0?c(e.data.notes):c([]),d(e.data.success)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement(b,{loggedIn:m,userName:p,changeStatus:function(){d(!1)}}),m&&l.a.createElement($,{notes:o}),l.a.createElement(h,null))},te=a(82);var ae=function(){var e=Object(te.a)(),t=e.register,a=e.watch,r=e.errors,o=e.handleSubmit,c=Object(i.e)(),u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],f=m[1];return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:o((function(e,t){w.a.post("/auth/register",e).then((function(t){t.data.status?(console.log("successful signup"),c.push("/home/".concat(e.firstname).concat(e.lastname))):f(!0)})).catch((function(e){console.error(e)})),t.preventDefault(),t.target.reset()}))},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"First Name",name:"firstname",ref:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"text",className:"form-control",placeholder:"Last Name",name:"lastname",ref:t,required:!0})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:"username",ref:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",ref:t({pattern:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/}),required:!0}),r.password&&l.a.createElement("p",null,"Minimum eight characters, at least one letter and one number")),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",className:"form-control",name:"cnfPassword",ref:t({validate:function(e){return e===a("password")}}),placeholder:"Confirm Password",required:!0}),r.cnfPassword&&l.a.createElement("p",null,"Passwords don't match")),l.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Register"),d&&l.a.createElement("p",null," Sorry, email id already exists!")))};var ne=function(){var e=Object(te.a)(),t=e.register,a=(e.watch,e.errors,e.handleSubmit),r=Object(i.e)(),o=Object(n.useState)(!1),c=Object(s.a)(o,2),u=c[0],m=c[1];return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:a((function(e,t){w.a.post("/auth/login",e).then((function(e){e.data.authenticate?r.push("/home/".concat(e.data.displayName)):m(!0)})).catch((function(e){console.error(e)})),t.preventDefault(),t.target.reset()}))},l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"email",className:"form-control",placeholder:"Email",name:"username",ref:t})),l.a.createElement("div",{className:"form-group"},l.a.createElement("input",{type:"password",placeholder:"Password",className:"form-control",name:"password",ref:t,required:!0})),l.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Login"),u&&l.a.createElement("p",null,"Failed to login, please try again")))};var le=function(){var e=f()("container","mt-5"),t=f()("card","social-block"),a=f()("btn","btn-block","btn-social","btn-google"),n=(f()("fab","fa-facebook"),f()("fab","fa-google"));return l.a.createElement("div",null,l.a.createElement(b,null),l.a.createElement("div",{className:e},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h3",{class:"card-title"},"Register"),l.a.createElement(ae,null)))),l.a.createElement("div",{className:"col-sm-6"},l.a.createElement("div",{className:t},l.a.createElement("div",{className:"card-body"},l.a.createElement("h3",{class:"card-title"},"Login"),l.a.createElement("a",{className:a,href:"/auth/google",role:"button"},l.a.createElement("i",{className:n}," "),"Sign In with Google")),l.a.createElement("p",{style:{textAlign:"center"}},"OR"),l.a.createElement("div",{className:"card-body"},l.a.createElement(ne,null)))))))};var re=function(){return l.a.createElement(c.a,null,l.a.createElement(i.a,{path:"/",exact:!0,component:le}),l.a.createElement(i.a,{path:"/home/:userName",exact:!0,component:ee}))};a(403);o.a.render(l.a.createElement(re,null),document.getElementById("root"))}},[[187,1,2]]]);
//# sourceMappingURL=main.d2c832b9.chunk.js.map