(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{149:function(e,t,n){},185:function(e,t,n){e.exports=n(401)},399:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),l=n(8),c=n.n(l),r=n(52),i=n(13),u=n(17),s=n(163),d=n.n(s),m=n(3),f=n.n(m),b=n(159),E=n.n(b);var g=function(e){var t=f()("btn","btn-lg");return o.a.createElement("header",null,e.loggedIn&&o.a.createElement("a",{className:t,href:"/auth/logout",role:"button",title:"Logout",onClick:function(){e.changeStatus()}}," ",o.a.createElement(E.a,{style:{fill:"white"}})),o.a.createElement(d.a,null),e.loggedIn?o.a.createElement("h1",null," Keeper - Welcome ",e.userName):o.a.createElement("h1",null," Keeper "))};var h=function(){var e=(new Date).getFullYear();return o.a.createElement("footer",{className:"Footer"},o.a.createElement("p",null,"Copyright \u24d2 ",e))},p=n(39),C=n(176),v=n(45),j=n(167),O=n.n(j),k=n(32),S=n.n(k),w=n(438),N=n(437),x=n(440),y=n(436),D=n(434),U=n(435),I=n(433),B=n(441),A=n(166),T=n.n(A),F=n(99),J=n(164),K=n.n(J),L=n(165),M=n.n(L);var P=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),l=n[0],c=n[1],r=Object(a.useState)({h:250,s:0,l:.2,a:1}),i=Object(u.a)(r,2),s=i[0],d=i[1],m=Object(a.useState)(""),f=Object(u.a)(m,2),b=f[0],E=f[1],g={position:"absolute",zIndex:"2"},h={position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"};function p(e){E(e.currentTarget.getAttribute("name")),c((function(e){return!e}))}function C(){c(!1),e.DBUpdate()}function v(t){d(t.hsl),console.log(t),e.onColorChange(b,t.hex)}return o.a.createElement("div",null,o.a.createElement("button",{name:"bgColor",onClick:p,title:"Set note background"},o.a.createElement(K.a,null)),l?o.a.createElement("div",{style:g},o.a.createElement("div",{style:h,onClick:C}),o.a.createElement(F.ChromePicker,{color:s,onChange:v,disableAlpha:!0})):null,o.a.createElement("button",{name:"fontColor",onClick:p,title:"Set note font color"},o.a.createElement(M.a,null)),l?o.a.createElement("div",{style:g},o.a.createElement("div",{style:h,onClick:C}),o.a.createElement(F.ChromePicker,{color:s,onChange:v,disableAlpha:!0})):null)},_=o.a.forwardRef((function(e,t){return o.a.createElement(B.a,Object.assign({direction:"up",ref:t},e))}));var z=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),l=n[0],c=n[1];return o.a.createElement("div",null,o.a.createElement("button",{className:"editIcon",onClick:function(){c(!0)}},o.a.createElement(T.a,null)),o.a.createElement(x.a,{open:l,TransitionComponent:_,keepMounted:!0,onClose:function(){c(!1)},"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",className:"Dialogue"},o.a.createElement(P,{onColorChange:e.onColorChange,DBUpdate:e.DBUpdate}),o.a.createElement(I.a,{id:"alert-dialog-slide-title"},e.title),o.a.createElement(D.a,null,o.a.createElement(U.a,{id:"alert-dialog-slide-description"},o.a.createElement("textarea",{name:"content",onChange:function(t){var n=t.target,a=n.name,o=n.value;e.onUpdate(a,o)},defaultValue:e.content,placeholder:"Take a note...",rows:"5",cols:"50"}))),o.a.createElement(y.a,null,o.a.createElement(N.a,{onClick:function(){c(!1),e.DBUpdate()},color:"primary",autoFocus:!0},"Submit"))))};var H=function(e){var t=Object(a.useState)({ind:e.ind,title:e.title,content:e.content,bgColor:e.bgColor,fontColor:e.fontColor}),n=Object(u.a)(t,2),l=n[0],c=n[1],r=Object(a.useState)(!1),i=Object(u.a)(r,2),s=i[0],d=i[1],m=Object(a.useMemo)((function(){return{background:l.bgColor,color:l.fontColor}}),[l]);function f(e,t){l[e]!==t&&(c((function(n){return Object(p.a)(Object(p.a)({},n),{},Object(v.a)({},e,t))})),d(!0))}return o.a.createElement(w.a,{in:!0},o.a.createElement("div",{style:m,className:"note"},o.a.createElement(z,{title:e.title,content:e.content,onUpdate:f,ind:e.ind,bgColor:l.bgColor,fontColor:l.fontColor,onColorChange:f,DBUpdate:function(){s&&(console.log("updating"),e.onUpdate(l),d(!1))}}),o.a.createElement("h1",null,e.title),o.a.createElement("p",null,e.content),o.a.createElement("button",{className:"deleteIcon",onClick:function(){var t=e.ind;S.a.delete("/delete",{data:{index:t}}).then((function(){return console.log("Data to be deleted is shared")})).catch((function(e){console.error(e)})),e.onDelete(e.id,e.ind)}},o.a.createElement(O.a,null))))},R=n(439),V=n(169),W=n.n(V),Y=n(168),q=n.n(Y);var G=function(e){S.a.defaults.withCredentials=!0;var t=Object(a.useState)({ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}),n=Object(u.a)(t,2),l=n[0],c=n[1];function r(e){var t=e.target,n=t.name,a=t.value;c((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(v.a)({},n,a))}))}var i=Object(a.useState)(!1),s=Object(u.a)(i,2),d=s[0],m=s[1];return o.a.createElement("div",null,o.a.createElement("form",{className:"create-note"},o.a.createElement("input",{name:"title",onChange:r,value:l.title,placeholder:"Title",hidden:!d&&!0}),o.a.createElement("textarea",{name:"content",onChange:r,onClick:function(){m(!0)},value:l.content,placeholder:"Take a note...",rows:d?"3":"1"}),o.a.createElement(w.a,{in:d&&!0},o.a.createElement(R.a,{onClick:function(t){l.ind=q.a.generate(),e.onAdd(l),c((function(e){return console.log("note:",e),S.a.post("/create",e).then((function(){return console.log("Data Shared")})).catch((function(e){console.error(e)})),{ind:"",title:"",content:"",bgColor:"#ffff",fontColor:"#000"}})),t.preventDefault()}},o.a.createElement(W.a,null)))))},Q=(n(149),n(175));n(399);var X=function(e){S.a.defaults.withCredentials=!0;var t=Object(a.useState)(e.notes),n=Object(u.a)(t,2),l=n[0],c=n[1];function r(e,t){console.log("note to be deleted: "+t),c((function(e){return e.filter((function(e,n){return e.ind!==t}))}))}function i(e){console.log(e),c(l.map((function(t){return t.ind===e.ind?Object(p.a)({},e):t}))),S.a.patch("/update",e).then((function(){return console.log("Data to be updated is shared")})).catch((function(e){console.error(e)}))}var s=f()("scrollbar","my-5","mx-auto");return o.a.createElement("div",null,o.a.createElement(G,{onAdd:function(e){c((function(t){return[].concat(Object(C.a)(t),[e])}))}}),o.a.createElement(Q.c,null,o.a.createElement("div",{className:s,style:{position:"absolute",left:"5%",width:"90%",maxHeight:"500px"}},l.map((function(e){return o.a.createElement(H,{key:e.ind,ind:e.ind,title:e.title,content:e.content,onDelete:r,onUpdate:i,bgColor:e.bgColor,fontColor:e.fontColor})})))))},Z=n(20),$=Object(Z.a)();var ee=function(e){var t=e.match;"#_=_"===window.location.hash&&($.replaceState?$.replaceState(null,null,window.location.href.split("#")[0]):window.location.hash="");var n=Object(a.useState)([]),l=Object(u.a)(n,2),c=l[0],r=l[1],i=Object(a.useState)(!1),s=Object(u.a)(i,2),d=s[0],m=s[1],f=t.params,b=(f=void 0===f?{}:f).userName;return Object(a.useEffect)((function(){console.log("effect call"),S.a.get("/auth/login/success",{withCredentials:!0}).then((function(e){console.log(e),e.data.notes.length>0?r(e.data.notes):r([]),m(e.data.success)})).catch((function(e){console.log(e)}))}),[]),o.a.createElement("div",null,o.a.createElement(g,{loggedIn:d,userName:b,changeStatus:function(){m(!1)}}),d&&o.a.createElement(X,{notes:c}),o.a.createElement(h,null))};var te=function(){var e=f()("container","mt-5"),t=f()("card","social-block"),n=f()("btn","btn-block","btn-social","btn-facebook"),a=f()("fab","fa-facebook");return o.a.createElement("div",null,o.a.createElement(g,null),o.a.createElement("div",{className:e},o.a.createElement("h1",null," Login "),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-4"},o.a.createElement("div",{className:t},o.a.createElement("div",{className:"card-body"},o.a.createElement("a",{className:n,href:"/auth/facebook",role:"button"},o.a.createElement("i",{className:a}," "),"Sign In with Facebook")))))))};var ne=function(){return console.log(""),o.a.createElement(r.a,null,o.a.createElement(i.a,{path:"/",exact:!0,component:te}),o.a.createElement(i.a,{path:"/home/:userName",exact:!0,component:ee}))};n(400);c.a.render(o.a.createElement(ne,null),document.getElementById("root"))}},[[185,1,2]]]);
//# sourceMappingURL=main.246d59fe.chunk.js.map